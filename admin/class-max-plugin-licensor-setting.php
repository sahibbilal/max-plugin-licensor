<?phpfunction max_plugin_licensor_settings_init() {    register_setting( 'max_plugin_licensor', 'max_plugin_licensor_options' );    register_setting( 'max_plugin_licensor_settings', 'max_plugin_licensor_settings' );}add_action( 'admin_init', 'max_plugin_licensor_settings_init' );function max_plugin_licensor_options_page() {    add_menu_page(        'Max Plugin Licensor',        'Max Plugin Licensor',        'edit_others_pages',        'max-plugin-licensor',        'max_plugin_licensor_html',        plugins_url( 'admin/img/logo-colored.png', dirname(__FILE__) )    );}add_action( 'admin_menu', 'max_plugin_licensor_options_page' );function max_plugin_licensor_html() {    if ( ! current_user_can( 'edit_published_pages' ) ) {        return;    }    if ( isset( $_GET['settings-updated'] ) ) {        add_settings_error( 'max_plugin_licensor_messages', 'max_plugin_licensor_message', __( 'Settings Saved', 'max_plugin_licensor' ), 'updated' );    }    settings_errors( 'max_plugin_licensor_messages' );    $default_tab = null;    $tab = isset($_GET['tab']) ? $_GET['tab'] : $default_tab;    ?>    <div class="wrap">        <h1><?php echo esc_html( get_admin_page_title() ); ?></h1>        <?php        $user = wp_get_current_user();        if ( in_array( 'administrator', (array) $user->roles )  || in_array( 'plugin_manager', (array) $user->roles ) ) {        ?>            <nav class="nav-tab-wrapper">                <a href="?page=max-plugin-licensor"                   class="nav-tab <?php if($tab===null):?>nav-tab-active<?php endif; ?>">Plugins</a>                <a href="?page=max-plugin-licensor&tab=licenses"                   class="nav-tab <?php if($tab==='licenses'):?>nav-tab-active<?php endif; ?>">Plugin Licenses</a>            </nav>            <div class="tab-content">                <?php                switch($tab) :                    case 'licenses':                        max_plugin_licenses_tab();                        break;                    default:                        max_plugin_zips_tab();                        break;                endswitch;                ?>            </div>        <?php }//        if ( in_array( 'author', (array) $user->roles ) ) {    else{        ?>            <div class="tab-content">                <?php                    max_plugin_licenses_tab();                ?>            </div>        <?php } ?>    </div>    <?php}function max_plugin_zips_tab(){    max_plugin_zips_html();}function max_plugin_licenses_tab(){    max_plugin_licenses_html();}